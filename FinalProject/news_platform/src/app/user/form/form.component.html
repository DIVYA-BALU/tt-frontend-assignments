<div class="form-container">
  <form [formGroup]="newsForm" (ngSubmit)="onSubmit()">
    <div class="required">
      <span>*</span> indicates that this field is required.
    </div>
    <div class="container">
      <label for="name">Name</label>
      <span>*</span>
      <input
        type="text"
        name="name"
        id="name"
        placeholder="Ex: Max"
        formControlName="name"
      />
      <span
        *ngIf="(newsForm.controls['name'].touched || newsForm.controls['name'].dirty) && (newsForm.controls['name'].errors?.['required'])"
      >
        Name is required
      </span>
    </div>

    <div class="container">
      <label for="email">Email</label>
      <span>*</span>
      <input
        type="text"
        name="email"
        id="email"
        placeholder="Ex: max12@gmail.com"
        formControlName="email"
      />
      <span
        *ngIf="(newsForm.controls['email'].touched || newsForm.controls['email'].dirty) && (newsForm.controls['email'].errors?.['required'])"
      >
        Email is required
      </span>
    </div>

    <div class="container">
      <label for="phoneNo">Phone no</label>
      <span>*</span>
      <input
        type="tel"
        name="phoneNo"
        id="phoneNo"
        placeholder="Ex: 9876543211"
        formControlName="phoneNo"
      />
      <span
        *ngIf="(newsForm.controls['phoneNo'].touched || newsForm.controls['phoneNo'].dirty) && (newsForm.controls['phoneNo'].errors?.['required'])"
      >
        PhoneNo is required
      </span>
      <span *ngIf="(newsForm.controls['phoneNo'].errors?.['pattern'])">
        PhoneNo should contain only 10 digits
      </span>
    </div>

    <div class="container img">
      <div class="img-div">
        <p>Upload images:</p>
        <label for="img"><i class="fa-solid fa-cloud-arrow-up"></i></label>
        <input
          type="file"
          name="images"
          id="img"
          accept=".jpg, .jpeg, .png, .mp4"
          (change)="uploadImages($event)"
        />
      </div>
      <span *ngFor="let file of files; let i = index" class="span-img">
        <p>
          {{ file.name }}
          <button type="button" (click)="remove(i)">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </p>
      </span>
    </div>

    <div class="content container">
      <label>News contents</label>
      <span>*</span>
      <span
        *ngIf="((newsForm.controls['content'].touched || newsForm.controls['content'].dirty) && newsForm.controls['content'].errors?.['required'])"
      >
        content is required
      </span>
      <editor
        [init]="editorConfig"
        name="content"
        formControlName="content"
      ></editor>
    </div>

    <div>
      <button
        type="submit"
        [disabled]="newsForm.invalid"
        class="submit"
        #button
      >
        Submit
      </button>
    </div>
  </form>
</div>
