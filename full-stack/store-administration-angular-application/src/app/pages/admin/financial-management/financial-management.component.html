<div>
  <div class="title-div">
    <p>Total Investment Amount : {{totalInvestment}}</p>
    <p>Total Revenue Generated : {{totalRevenue}}</p>
  </div>
  <div class="button-div">
    <button mat-button (click)="openProductDialogForm()">Add Investment</button>
  </div>
</div>

<div class="title-div">
  <p>Branchwise Analysis</p>
</div>
<div class="table-div">
  <table mat-table [dataSource]="branchWiseAnalysis" class="mat-elevation-z8">

    <ng-container matColumnDef="Serial Number">
      <th mat-header-cell *matHeaderCellDef> S.No </th>
      <td mat-cell *matCellDef="let i = index"> {{i+1}} </td>
    </ng-container>

    <ng-container matColumnDef="Branch Name">
      <th mat-header-cell *matHeaderCellDef> Branch Name </th>
      <td mat-cell *matCellDef="let incomeStatement"> {{incomeStatement.branchName}} </td>
    </ng-container>

    <ng-container matColumnDef="Total COGS">
      <th mat-header-cell *matHeaderCellDef> Total COGS </th>
      <td mat-cell *matCellDef="let incomeStatement"> {{incomeStatement.cogs}} </td>
    </ng-container>

    <ng-container matColumnDef="Total Revenue">
      <th mat-header-cell *matHeaderCellDef> Total Revenue </th>
      <td mat-cell *matCellDef="let incomeStatement"> {{incomeStatement.revenue}} </td>
    </ng-container>

    <ng-container matColumnDef="Profit / Loss">
      <th mat-header-cell *matHeaderCellDef> Profit / Loss </th>
      <td mat-cell *matCellDef="let incomeStatement"> {{incomeStatement.revenue-incomeStatement.cogs}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumnsForBranchWiseAnalysis"></tr>
    <tr mat-row *matRowDef="let incomeStatement; columns: displayedColumnsForBranchWiseAnalysis"
      (click)="onRowClicked(incomeStatement.branchId,incomeStatement.branchName)">
    </tr>
  </table>

</div>
<mat-paginator [length]="totalBranchWiseResults" [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 100]"
  aria-label="Select page" (page)="onBranchWisePageChange($event)">
</mat-paginator>
<div class="title-div">
  <p>SectionWise Analysis</p>
</div>
<div class="table-div">
  <table mat-table [dataSource]="sectionWiseAnalysis" class="mat-elevation-z8">

    <ng-container matColumnDef="Serial Number">
      <th mat-header-cell *matHeaderCellDef> S.No </th>
      <td mat-cell *matCellDef="let i = index"> {{i+1}} </td>
    </ng-container>

    <ng-container matColumnDef="Section Name">
      <th mat-header-cell *matHeaderCellDef> Section Name </th>
      <td mat-cell *matCellDef="let incomeStatement"> {{incomeStatement.sectionName}} </td>
    </ng-container>

    <ng-container matColumnDef="Total COGS">
      <th mat-header-cell *matHeaderCellDef> Total COGS </th>
      <td mat-cell *matCellDef="let incomeStatement"> {{incomeStatement.cogs}} </td>
    </ng-container>

    <ng-container matColumnDef="Total Revenue">
      <th mat-header-cell *matHeaderCellDef> Total Revenue </th>
      <td mat-cell *matCellDef="let incomeStatement"> {{incomeStatement.revenue}} </td>
    </ng-container>

    <ng-container matColumnDef="Profit / Loss">
      <th mat-header-cell *matHeaderCellDef> Profit / Loss </th>
      <td mat-cell *matCellDef="let incomeStatement"> {{incomeStatement.revenue-incomeStatement.cogs}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumnsForSectionWiseAnalysis"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsForSectionWiseAnalysis;"></tr>
  </table>

</div>
<mat-paginator [length]="totalSectionWiseResults" [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 100]"
  aria-label="Select page" (page)="onSectionWisePageChange($event)">
</mat-paginator>

<router-outlet>
</router-outlet>